<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="单例"><meta property="og:title" content="单例" />
<meta property="og:description" content="题目还原 介绍下单例模式及其弊端  单例模式 单例模式，也叫单子模式，是一种常用的软件设计模式，属于创建型模式的一种。在应用这个模式时，单例对象的类必须保证只有一个实例存在。
饿汉式单例类  优点 - 简单方便。 缺点 - 不管程序中是否使用到了单例对象，都会生成单例对象，并且由于静态对象是在类加载时就需要生成，会降低应用的启动速度。 适用场景 - 类对象功能简单，占用内存较小，频繁使用。 不适用 - 类对象功能复杂，占用内存大，适用概率较低  饱汉式单例类  优点 - 单例对象的生成是应用需要使用单例对象时采取构造，可以提高应用的启动速度。 缺点 - 不是线程安全的，如果多个线程同时调用getInstance方法，那么可能会生成多个单例对象。 适用场景 - 单例对象功能复杂，占用内存大，对应用的启动速度有要求。 不适用 - 多线程同时使用。  饿汉式单例类以及饱汉式单例类由于构造子是私有的，因此不可被继承，为了解决这个问题，出现了登记式单例类。
参考链接: https://baijiahao.baidu.com/s?id=1642521443436643881&amp;wfr=spider&amp;for=pc" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://iosgua.com/interval/docs/ch09/tc01/9-1-4/" />

<title>单例 | 一瓜 iOS 面试小册</title>
<link rel="icon" href="/interval/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/interval/book.min.63f280e0ea25a89c51e2921595679425aa1c3e3011146f41e3436fc7635d7898.css" integrity="sha256-Y/KA4OolqJxR4pIVlWeUJaocPjARFG9B40Nvx2NdeJg=">


<script defer src="/interval/en.search.min.f0cccae7026011e69755f218c2cfa1112991ee21224463ba569ef2af2a423837.js" integrity="sha256-8MzK5wJgEeaXVfIYws&#43;hESmR7iEiRGO6Vp7yrypCODc="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/interval"><span>一瓜 iOS 面试小册</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>









  <ul>
<li><a href="/interval/">序章</a></li>
<li>第一章 基础知识
<ul>
<li><a href="/interval/docs/ch01/tc01/01/">1.1 计算机网络</a></li>
<li><a href="/interval/docs/ch01/tc02/02/">1.2 操作系统</a></li>
<li><a href="/interval/docs/ch01/tc03/03/">1.3 数据安全</a></li>
<li><a href="/interval/docs/ch01/tc04/04/">1.4 苹果证书</a></li>
</ul>
</li>
<li>第二章 数据结构与算法</li>
<li>第三章 语法特性</li>
<li>第四章 UIKit
<ul>
<li>4.1 基础
<ul>
<li><a href="/interval/docs/ch04/tc01/4-1-1/">什么是事件响应链</a></li>
<li><a href="/interval/docs/ch04/tc01/4-1-2/">什么是离屏渲染</a></li>
<li><a href="/interval/docs/ch04/tc01/4-1-3/">UI 的刷新原理</a></li>
<li><a href="/interval/docs/ch04/tc01/4-1-4/"><code>UIView</code> 和 <code>CALayer</code></a></li>
<li><a href="/interval/docs/ch04/tc01/4-1-5/"><code>layoutsubviews</code></a></li>
</ul>
</li>
<li>4.2 布局方式
<ul>
<li><a href="/interval/docs/ch04/tc02/4-2-1/">AutoLayout 原理与性能</a></li>
</ul>
</li>
<li>4.3 图片
<ul>
<li><a href="/interval/docs/ch04/tc03/4-3-1/">图片解码时机与优化</a></li>
<li><a href="/interval/docs/ch04/tc03/4-3-1/">图片渲染优化</a></li>
<li><a href="/interval/docs/ch04/tc03/4-3-2/">多个相同图片重复加载</a></li>
<li><a href="/interval/docs/ch04/tc03/4-3-3/">imageName</a></li>
</ul>
</li>
</ul>
</li>
<li>第五章 多线程
<ul>
<li>5.1 基础
<ul>
<li><a href="/interval/docs/ch05/tc01/5-1-1/">线程</a></li>
<li><a href="/interval/docs/ch05/tc01/5-1-2/">同步</a></li>
<li><a href="/interval/docs/ch05/tc01/5-1-3/">锁</a></li>
<li><a href="/interval/docs/ch05/tc01/5-1-4/">死锁</a></li>
</ul>
</li>
<li>5.2 GCD
<ul>
<li><a href="/interval/docs/ch05/tc02/5-2-1/">GCD 队列</a></li>
<li><a href="/interval/docs/ch05/tc02/5-2-2/">GCD 线程与队列关系</a></li>
<li><a href="/interval/docs/ch05/tc02/5-2-3/">GCD API</a></li>
<li><a href="/interval/docs/ch05/tc02/5-2-4/"><code>dispatch_once</code> 实现原理</a></li>
</ul>
</li>
<li>5.3 其他
<ul>
<li><a href="/interval/docs/ch05/tc03/5-3-1/"><code>NSOperationQueue</code></a></li>
<li><a href="/interval/docs/ch05/tc03/5-3-2/"><code>NSTimer</code>, <code>CADisplayLink</code>, <code>dispatch_source_t</code></a></li>
</ul>
</li>
</ul>
</li>
<li>第六章 Runtime
<ul>
<li>6.1 结构模型
<ul>
<li><a href="/interval/docs/ch06/tc01/6-1-1/">Runtime 的内存模型</a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-2/"><code>metaclass</code></a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-3/"><code>class_copyIvarList</code></a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-4/"><code>class_rw_t</code></a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-5/">Category</a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-6/">消息转发</a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-7/">方法调用</a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-8/"><code>IMP</code>, <code>SEL</code> 和 <code>Method</code></a></li>
<li><a href="/interval/docs/ch06/tc01/6-1-9/"><code>load</code>, <code>initialize</code></a></li>
</ul>
</li>
<li>6.2 内存管理
<ul>
<li><a href="/interval/docs/ch06/tc02/6-2-1/"><code>weak</code> 弱引用</a></li>
<li><a href="/interval/docs/ch06/tc02/6-2-2/">关联对象</a></li>
<li><a href="/interval/docs/ch06/tc02/6-2-3/">Autoreleasepool</a></li>
<li><a href="/interval/docs/ch06/tc02/6-2-4/">ARC 自动引用计数</a></li>
</ul>
</li>
<li>6.3
<ul>
<li><a href="/interval/docs/ch06/tc03/6-3-1/">Method Swizzle</a></li>
<li><a href="/interval/docs/ch06/tc03/6-3-2/">属性修饰符 <code>atomic</code></a></li>
<li><a href="/interval/docs/ch06/tc03/6-3-3/">iOS 的内省方法</a></li>
<li><a href="/interval/docs/ch06/tc03/6-3-4/"><code>objc_getClass</code></a></li>
</ul>
</li>
</ul>
</li>
<li>第七章 RunLoop和KVO
<ul>
<li>7.1 RunLoop
<ul>
<li><a href="/interval/docs/ch07/tc01/7-1-1/">app如何接收到触摸事件的</a></li>
<li><a href="/interval/docs/ch07/tc02/7-1-2/">为什么只有主线程的runloop是开启的</a></li>
<li><a href="/interval/docs/ch07/tc03/7-1-3/">为什么只在主线程刷新UI</a></li>
<li><a href="/interval/docs/ch07/tc04/7-1-4/">PerformSelector和runloop的关系</a></li>
<li><a href="/interval/docs/ch07/tc05/7-1-5/">如何使线程保活</a></li>
</ul>
</li>
<li><a href="/interval/docs/ch07/tc06/7-2-1/">7.2 KVO</a></li>
</ul>
</li>
<li>第八章 Block
<ul>
<li><a href="/interval/docs/ch08/tc01/8-1-1/">block的内部实现，结构体是什么样的</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-2/">block是类吗，有哪些类型</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-3/">一个int变量被 __block 修饰与否的区别？block的变量截获</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-4/">block在修改NSMutableArray，需不需要添加__block</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-5/">block怎么进行内存管理的</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-6/">block可以用strong修饰吗</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-7/">解决循环引用时为什么要用__strong、__weak修饰</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-8/">block发生copy时机</a></li>
<li><a href="/interval/docs/ch08/tc01/8-1-9/">Block访问对象类型的auto变量时，在ARC和MRC下有什么区别</a></li>
</ul>
</li>
<li>第九章 工程架构
<ul>
<li>9.1 架构设计
<ul>
<li><a href="/interval/docs/ch09/tc01/9-1-1/">埋点</a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-2/"><code>MVC</code>, <code>MVP</code>, <code>MVVM</code></a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-3/">设计模式</a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-4/"class=active>单例</a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-5/">路由</a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-6/">稳定性</a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-7/">缓存</a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-8/"><code>git diff</code></a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-9/">线程池</a></li>
<li><a href="/interval/docs/ch09/tc01/9-1-10/">APP 架构</a></li>
</ul>
</li>
</ul>
</li>
<li>第十章 性能优化
<ul>
<li>10.1
<ul>
<li><a href="/interval/docs/ch10/tc01/10-1-1/">启动</a></li>
<li><a href="/interval/docs/ch10/tc01/10-1-2/">卡顿</a></li>
<li><a href="/interval/docs/ch10/tc01/10-1-3/">耗电</a></li>
<li><a href="/interval/docs/ch10/tc01/10-1-4/">网络</a></li>
</ul>
</li>
</ul>
</li>
</ul>








</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/interval/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>单例</strong>

  <label for="toc-control">
    <img src="/interval/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
<article class="markdown">
  <h1>单例</h1><blockquote class="book-hint info">
  <h3 id="题目还原">题目还原</h3>
<p><strong>介绍下单例模式及其弊端</strong>
</blockquote>

<h4 id="单例模式">单例模式</h4>
<p>单例模式，也叫单子模式，是一种常用的软件设计模式，属于创建型模式的一种。在应用这个模式时，单例对象的类必须保证只有一个实例存在。</p>
<h4 id="饿汉式单例类">饿汉式单例类</h4>
<p><img src="../914/1.png" alt="参考图片"></p>
<ul>
<li>优点 - 简单方便。</li>
<li>缺点 - 不管程序中是否使用到了单例对象，都会生成单例对象，并且由于静态对象是在类加载时就需要生成，会降低应用的启动速度。</li>
<li>适用场景 - 类对象功能简单，占用内存较小，频繁使用。</li>
<li>不适用 - 类对象功能复杂，占用内存大，适用概率较低</li>
</ul>
<h4 id="饱汉式单例类">饱汉式单例类</h4>
<p><img src="../914/2.png" alt="参考图片"></p>
<ul>
<li>优点 - 单例对象的生成是应用需要使用单例对象时采取构造，可以提高应用的启动速度。</li>
<li>缺点 - 不是线程安全的，如果多个线程同时调用getInstance方法，那么可能会生成多个单例对象。</li>
<li>适用场景 - 单例对象功能复杂，占用内存大，对应用的启动速度有要求。</li>
<li>不适用 - 多线程同时使用。</li>
</ul>
<p>饿汉式单例类以及饱汉式单例类由于构造子是私有的，因此不可被继承，为了解决这个问题，出现了登记式单例类。</p>
<h4 id="参考链接">参考链接:</h4>
<p><a href="https://baijiahao.baidu.com/s?id=1642521443436643881&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1642521443436643881&amp;wfr=spider&amp;for=pc</a></p>

    <div>
      <a class="flex align-center" href="https://github.com/idevqa/interval-content//edit/master//docs/ch09/tc01/9-1-4.md" target="_blank" rel="noopener">
        <img src="/interval/svg/edit.svg" class="book-icon" alt="Edit" />
        <span>Edit this page</span>
      </a>
    </div>
  
  <hr/>
  <img src="https://raw.githubusercontent.com/Desgard/algo/img/img/_index/wechat-qrcode.png" style="max-width: 100%;"/>
  <p>本作品采用 <strong><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode.zh-Hans">知识署名-非商业性使用-禁止演绎 （BY-NC-ND） 4.0 国际许可协议</a></strong> 进行许可。</p>
</article>
 

      <footer class="book-footer">
        
  <div class="flex justify-between">



</div>

 
        
  
  <div class="book-comments">

</div>
  
 
      </footer>
      
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












